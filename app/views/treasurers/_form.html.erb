
<%= form_for(@treasurer, html: { class: 'form-horizontal' }) do |f| %>
  <%= f.error_notification %>

  <div class="form-inputs">
    <%= f.form_group :first_name, class: 'row' do |f| %>
      <%= f.label :first_name, class: 'control-label col-md-12' %>
      <div class='col-12 col-md-10'>
        <%= f.text_field :first_name, class: 'form-control' %>
        <%= f.error_messages %>
      </div>
    <% end %>

    <%= f.form_group :middle_name, class: 'row' do |f| %>
      <%= f.label :middle_name, class: 'control-label col-md-12' %>
      <div class='col-12 col-md-10'>
        <%= f.text_field :middle_name, class: 'form-control' %>
        <%= f.error_messages %>
      </div>
    <% end %>

    <%= f.form_group :last_name, class: 'row' do |f| %>
      <%= f.label :last_name, class: 'control-label col-md-12' %>
      <div class='col-12 col-md-10'>
        <%= f.text_field :last_name, class: 'form-control' %>
        <%= f.error_messages %>
      </div>
    <% end %>

    <%= f.form_group :date_of_birth, class: 'row' do |f| %>
      <%= f.label :date_of_birth, class: 'control-label col-md-12' %>
      <div class='col-12 col-md-10'>
        <%= f.date_select :date_of_birth,{start_year:1950, end_year: Date.today.year - 18, include_blank: true}, class: 'form-control',style: "width:20%; display:inline" %>
        <%= f.error_messages %>
      </div>
    <% end %>
    <%= f.form_group :council, class: 'row' do |f| %>
      <%= f.label :council, class: 'control-label col-md-12' %>
      <div class='col-12 col-md-10'>
				<%= f.select :council, options_for_select(@councils, @treasurer.council ? @treasurer.council : ""), {include_blank: true}, {class: 'form-control'} %>
        <%= f.error_messages %>
      </div>
    <% end %>
		
		
    <%= f.form_group :branch_id, class: 'row' do |f| %>
      <%= f.label :branch_id, class: 'control-label col-md-12' %>
      <div class='col-12 col-md-10' id="branch_data">
				<%= f.select :branch_id, options_for_select(@branches, @treasurer.branch_id ? @treasurer.branch_id : ""), {include_blank: true}, {class: 'form-control'} %>
        <%= f.error_messages %>
      </div>
    <% end %>

    <%= f.form_group :phone_number, class: 'row' do |f| %>
      <%= f.label :phone_number, class: 'control-label col-md-12' %>
      <div class='col-12 col-md-10'>
        <%= f.text_field :phone_number, class: 'form-control' %>
				<span style="font-size:13px;color:red">Start with country code +233, +44 etc. and write only the numbers without spaces and hyphens and brackets. e.g <b>+233244158994</b> or <b>+12762890140</b></span>
        <%= f.error_messages %>
      </div>
    <% end %>

    <%= f.form_group :whatsapp_number, class: 'row' do |f| %>
      <%= f.label :whatsapp_number, class: 'control-label col-md-12' %>
      <div class='col-12 col-md-10'>
        <%= f.text_field :whatsapp_number, class: 'form-control' %>
				<span style="font-size:13px;color:red">Start with country code +233, +44 etc. and write only the numbers without spaces and hyphens and brackets. e.g <b>+233244158994</b> or <b>+12762890140</b></span>
        <%= f.error_messages %>
      </div>
    <% end %>

    <%= f.form_group :employment_status, class: 'row' do |f| %>
      <%= f.label "Are you currently employed?", class: 'control-label col-md-12' %>
      <div class='col-12 col-md-9'>
				<%= f.check_box :employment_status, class: 'form-control', 'data-toggle': "toggle", "data-on": "YES", "data-off": "NO", "data-onstyle": "success", "data-offstyle": "danger" %>
        <%= f.error_messages %>
      </div>
    <% end %>

    <%= f.form_group :education_level, class: 'row' do |f| %>
      <%= f.label :education_level, class: 'control-label col-md-12' %>
      <div class='col-12 col-md-10'>
				<%= f.select :education_level, options_for_select(Treasurer::EDUCATION.map(&:humanize), @treasurer.education_level ? @treasurer.education_level.humanize : ""), {include_blank: true}, {class: 'form-control'} %>
        <%= f.error_messages %>
      </div>
    <% end %>

    <%= f.form_group :born_again, class: 'row' do |f| %>
      <%= f.label "Are you born again?", class: 'control-label col-md-12' %>
      <div class='col-12 col-md-9'>
        <%= f.check_box :born_again, class: 'form-control', 'data-toggle': "toggle", "data-on": "YES", "data-off": "NO", "data-onstyle": "success", "data-offstyle": "danger" %>
        <%= f.error_messages %>
      </div>
    <% end %>

    <%= f.form_group :quiet_time, class: 'row' do |f| %>
      <%= f.label "Do you have your quiet time regularly?", class: 'control-label col-md-12' %>
      <div class='col-12 col-md-9'>
        <%= f.check_box :quiet_time, class: 'form-control', 'data-toggle': "toggle", "data-on": "YES", "data-off": "NO", "data-onstyle": "success", "data-offstyle": "danger" %>
        <%= f.error_messages %>
      </div>
    <% end %>

    <%= f.form_group :baptism, class: 'row' do |f| %>
      <%= f.label "Have you been baptised by immersion?", class: 'control-label col-md-12' %>
      <div class='col-12 col-md-9'>
        <%= f.check_box :baptism, class: 'form-control', 'data-toggle': "toggle", "data-on": "YES", "data-off": "NO", "data-onstyle": "success", "data-offstyle": "danger" %>
        <%= f.error_messages %>
      </div>
    <% end %>		

    <%= f.form_group :holy_ghost, class: 'row' do |f| %>
      <%= f.label "Do you have the Holy Ghost Baptism with the evidence of speaking in tongues?", class: 'control-label col-md-12' %>
      <div class='col-12 col-md-9'>
        <%= f.check_box :holy_ghost, class: 'form-control', 'data-toggle': "toggle", "data-on": "YES", "data-off": "NO", "data-onstyle": "success", "data-offstyle": "danger" %>
        <%= f.error_messages %>
      </div>
    <% end %>
		
		
		
    <%= f.form_group :ud_join, class: 'row' do |f| %>
      <%= f.label "When Did you join the UD?", class: 'control-label col-md-12' %>
      <div class='col-12 col-md-10'>
        <%= f.date_select :ud_join,{start_year:1988, end_year: Date.today.year}, class: 'form-control',style: "width:20%" %>
        <%= f.error_messages %>
      </div>
    <% end %>

    <%= f.form_group :bishop_podcast, class: 'row' do |f| %>
      <%= f.label "Do you listen to Bishop Dag Heward Mills Podcast?", class: 'control-label col-md-12' %>
      <div class='col-12 col-md-12'>
        <%= f.check_box :bishop_podcast, class: 'form-control', 'data-toggle': "toggle", "data-on": "YES", "data-off": "NO", "data-onstyle": "success", "data-offstyle": "danger" %>
        <%= f.error_messages %>
      </div>
    <% end %>

    <%= f.form_group :year_treasurer, class: 'row' do |f| %>
      <%= f.label "When Did You Become A Treasurer? ", class: 'control-label col-md-12' %>
      <div class='col-12 col-md-10'>
        <%= f.date_select :year_treasurer,{start_year:1988, end_year: Date.today.year}, class: 'form-control',style: "width:20%" %>
        <%= f.error_messages %>
      </div>
    <% end %>

    <%= f.form_group :treasurer_type, class: 'row' do |f| %>
      <%= f.label :treasurer_type, class: 'control-label col-md-12' %>
      <div class='col-12 col-md-10'>
				<%= f.select :treasurer_type, options_for_select(Treasurer::TREASURER_TYPE, @treasurer.treasurer_type ? @treasurer.treasurer_type : ""), {include_blank: true}, {class: 'form-control'} if current_user.admin? %>
				<%= f.select :treasurer_type, options_for_select(Treasurer::TREASURER_TYPE_NO_ADMIN, @treasurer.treasurer_type ? @treasurer.treasurer_type : ""), {include_blank: true}, {class: 'form-control'} unless current_user.admin? %>
        <%= f.error_messages %>
      </div>
    <% end %>
		
    <%= f.form_group :tithe, class: 'row' do |f| %>
      <%= f.label "Do you pay tithes regularly", class: 'control-label col-md-12' %>
      <div class='col-12 col-md-10'>
				<%= f.select :tithe, options_for_select(Treasurer.tithes.keys,@treasurer.tithe ? @treasurer.tithe : ""), {include_blank: true}, {class: 'form-control'} %>
				
        <%= f.error_messages %>
      </div>
    <% end %>
		
	    <%= f.form_group :image, class: 'row' do |f| %>
      <%= f.label :image, class: 'control-label col-md-12' %>
      <div class='col-12 col-md-10'>
				<%= f.file_field :image, class: 'form-control' %>
        <%= f.error_messages %>
      </div>
    <% end %>	
	
		
		
		
		
		
<% unless current_user.treasurer? %>
    <%= f.form_group :conference, class: 'row' do |f| %>
      <%= f.label "Which Training Conferences Have You Completed?", class: 'control-label col-md-12' %>
      <div class=' ml-3 col-12 col-md-10 border border-primary border-rounded p-2'>
				<%  (2019..Date.today.year).to_a.uniq.each do |year| %>

        <label class="pl-5" style="width:20%">
            <% if @treasurer.conference.present? && @treasurer.conference.include?(year.to_s) %>
              <%= check_box("treasurer", "conference", {:multiple => true, :checked => true, :class =>"form-check-input"}, year, nil) + year.to_s %>
            <% else %>
              <%= check_box("treasurer", "conference", {:multiple => true, :class =>"form-check-input"}, year, nil) + year.to_s %>
            <% end %>
        </label>
<% end %>  
        <%= f.error_messages %>
      </div>
    <% end %>

    <%= f.form_group :training_manual, class: 'row' do |f| %>
      <%= f.label "Have you been trained with the treasurer's manual as a treasurer?", class: 'control-label col-md-12' %>
      <div class='col-12 col-md-10'>
        <%= f.check_box :training_manual, class: 'form-control', 'data-toggle': "toggle", "data-on": "YES", "data-off": "NO", "data-onstyle": "success", "data-offstyle": "danger" %>
        <%= f.error_messages %>
      </div>
    <% end %>
		
		
		
		    <%= f.form_group :debt, class: 'row' do |f| %>
      <%= f.label "Do you have any major financial obligations/debts; If so list", class: 'control-label col-md-12' %>
      <div class=' ml-3 col-12 col-md-10 border border-primary border-rounded p-2'>
				<%  Treasurer::DEBT_OBLIGATION.each_with_index do |debt, ind| %>

        <label class="pl-5" style="width:50%">
            <% if @treasurer.debt.present? && @treasurer.debt.include?(ind.to_s) %>
              <%= check_box("treasurer", "debt", {:multiple => true, :checked => true, :class =>"form-check-input"}, ind, nil) + debt.to_s %>
            <% else %>
              <%= check_box("treasurer", "debt", {:multiple => true, :class =>"form-check-input"}, ind, nil) + debt.to_s %>
            <% end %>
        </label>
<% end %>
				<%= f.label "If other, give reason below: ", class: 'control-label col-md-12' %>
				<%= f.text_area :debt_reason, class: 'form-control' %>

        <%= f.error_messages %>
      </div>
    <% end %>
		
		
		
		
		
		
<% end %>	
		

  </div>

  <div class="d-flex">
    <div class="ml-auto">
      <%= f.submit class: 'btn btn-primary' %>
      <%= link_to "Cancel", @treasurer, class: 'btn btn-outline-default' %>
    </div>
  </div>
<% end %>

